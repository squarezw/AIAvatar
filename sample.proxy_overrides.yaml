http:
  routers:
    web:
      service: web
      rule: (Host(`your domain`))
        && !PathPrefix(`/easy`)
        && !PathPrefix(`/voice-ids`)
        && !PathPrefix(`/t2a`)
        && !PathPrefix(`/voice-clone`)
        && !PathPrefix(`/upload`)
      tls:
        certresolver: myresolver
      middlewares:
        - redirect-to-https
    avatar-easy:
      rule: Host(`your domain`) && PathPrefix(`/easy/`)
      service: heygem-gen-video
      tls:
        certresolver: myresolver
    avatar-upload:
      rule: Host(`your domain`) && PathPrefix(`/upload`, `/voice-ids`, `/t2a`, `/voice-clone`)
      service: node3000
      tls:
        certresolver: myresolver
  
  services:
    heygem-gen-video:
      loadBalancer:
        servers:
          - url: http://heygem-gen-video:8383
    node3000:
      loadBalancer:
        servers:
          - url: http://your domain:3000

  middlewares:
    redirect-to-https:
      redirectScheme:
        scheme: https
        permanent: true